{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/xampp/htdocs/usefull-things-295-scroll/pages/components/AnimatedCopy.tsx"],"sourcesContent":["\"use client\";\nimport React, { useRef } from \"react\";\n\nimport gsap from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport { SplitText } from \"gsap/SplitText\";\nimport { useGSAP } from \"@gsap/react\";\n\ngsap.registerPlugin(ScrollTrigger, SplitText);\n\nexport default function AnimatedCopy({\n    children,\n    colorInitial = \"#dddddd\",\n    colorAccent = \"#abff02\",\n    colorFinal = \"#000000\",\n}) {\n    const containerRef = useRef(null);\n    const splitRefs = useRef([]);\n    const lastScrollProgress = useRef(0);\n    const colorTransitionTimers = useRef(new Map());\n    const completedChars = useRef(new Set());\n\n    useGSAP(\n        () => {\n            if (!containerRef.current) return;\n\n            splitRefs.current = [];\n            lastScrollProgress.current = 0;\n            colorTransitionTimers.current.clear();\n            completedChars.current.clear();\n\n            let elements = [];\n\n            if (containerRef.current.hasAttribute(\"data-copy-wrapper\")) {\n                elements = Array.from(containerRef.current.children);\n            } else {\n                elements = [containerRef.current];\n            }\n\n            elements.forEach((element) => {\n                const wordSplit = SplitText.create(element, {\n                    type: \"words\",\n                    wordsClass: \"word\",\n                });\n\n                const charSplit = SplitText.create(element, {\n                    type: \"chars\",\n                    charsClass: \"char\",\n                });\n\n                splitRefs.current.push({ wordSplit, charSplit });\n            });\n\n            const allChars = splitRefs.current.flatMap(({ charSplit }) => charSplit.chars);\n\n            gsap.set(allChars, { color: colorInitial });\n\n            const scheduleFinalTransition = (char, index) => {\n                if (colorTransitionTimers.current.has(index)) {\n                    clearTimeout(colorTransitionTimers.current.get(index));\n                }\n\n                const timer = setTimeout(() => {\n                    if (!completedChars.current.has(index)) {\n                        gsap.to(char, {\n                            duration: 0.1,\n                            ease: \"none\",\n                            color: colorFinal,\n                            onComplete: () => {\n                                completedChars.current.add(index);\n                            },\n                        });\n                    }\n\n                    colorTransitionTimers.current.delete(index);\n                }, 100);\n\n                colorTransitionTimers.current.set(index, timer);\n            };\n\n            ScrollTrigger.create({\n                trigger: containerRef.current,\n                start: \"top 90%\",\n                end: \"top 10%\",\n                scrub: 1,\n                onUpdate: (self) => {\n                    const progress = self.progress;\n                    const totalChars = allChars.length;\n                    const isScrollingDown = progress >= lastScrollProgress.current;\n                    const currentCharIndex = Math.floor(progress * totalChars);\n\n                    allChars.forEach((char, index) => {\n                        if (!isScrollingDown && index >= currentCharIndex) {\n                            if (colorTransitionTimers.current.has(index)) {\n                                clearTimeout(colorTransitionTimers.current.get(index));\n                                colorTransitionTimers.current.delete(index);\n                            }\n\n                            completedChars.current.delete(index);\n                            gsap.set(char, {\n                                color: colorInitial,\n                            });\n\n                            return;\n                        }\n\n                        if (completedChars.current.has(index)) {\n                            return;\n                        }\n\n                        if (index <= currentCharIndex) {\n                            gsap.set(char, { color: colorAccent });\n\n                            if (!colorTransitionTimers.current.has(index)) {\n                                scheduleFinalTransition(char, index);\n                            }\n                        } else {\n                            gsap.set(char, { color: colorInitial });\n                        }\n                    });\n\n                    lastScrollProgress.current = progress;\n                },\n            });\n\n            return () => {\n                colorTransitionTimers.current.forEach((timer) => clearTimeout(timer));\n                colorTransitionTimers.current.clear();\n                completedChars.current.clear();\n\n                splitRefs.current.forEach(({ wordSplit, charSplit }) => {\n                    if (charSplit) charSplit.revert();\n                    if (wordSplit) wordSplit.revert();\n                });\n            };\n        },\n        {\n            scope: containerRef,\n            dependencies: [colorInitial, colorAccent, colorFinal],\n        }\n    );\n\n    if (React.Children.count(children) === 1) {\n        return React.cloneElement(children, { ref: containerRef });\n    }\n\n    return (\n        <div ref={containerRef} data-copy-wrapper=\"true\">\n            {children}\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["file:///D:/xampp/htdocs/usefull-things-295-scroll/pages/index.js"],"sourcesContent":["\"use client\";\nimport { useEffect, useRef } from \"react\";\n\nimport gsap from \"gsap\";\nimport { ReactLenis } from \"@studio-freight/react-lenis\";\n\nimport AnimatedCopy from \"./components/AnimatedCopy\";\n\nexport default function Home() {\n    const lenisRef = useRef(null);\n\n    useEffect(() => {\n        function update(time) {\n            lenisRef.current?.lenis?.raf(time * 1000);\n        }\n        gsap.ticker.add(update);\n\n        return () => gsap.ticker.remove(update);\n    }, []);\n\n    return (\n        <>\n            <ReactLenis root ref={lenisRef}></ReactLenis>\n\n            <section className=\"hero\">\n                <img src=\"/images/img1.jpg\" alt=\"\" />\n            </section>\n\n            <section className=\"about\">\n                <div className=\"header\">\n                    <h1>A new chapter in vibe coding..</h1>\n                </div>\n\n                <div className=\"copy\">\n                    <AnimatedCopy>\n                        <p>\n                            Lorem ipsum dolor sit amet consectetur, adipisicing elit. Et, necessitatibus laudantium\n                            vitae quod quisquam sapiente numquam, quasi laborum similique tenetur odio, magnam hic\n                            voluptatum qui. Suscipit nam ad, vero aliquid voluptatem nemo officia beatae explicabo\n                            tenetur harum dolore aliquam porro deleniti in quo eius doloremque deserunt cumque atque\n                            voluptatibus recusandae!\n                        </p>\n                    </AnimatedCopy>\n                </div>\n            </section>\n\n            <section className=\"banner-img\">\n                <img src=\"/images/img2.jpg\" alt=\"\" />\n            </section>\n\n            <section className=\"services\">\n                <div className=\"service\">\n                    <div className=\"col\">\n                        <div className=\"service-copy\">\n                            <h3>Developing</h3>\n\n                            <AnimatedCopy>\n                                <p>\n                                    Lorem ipsum dolor sit, amet consectetur adipisicing elit. Error dignissimos quos\n                                    soluta culpa repellendus. Sapiente quisquam veritatis molestiae ipsum autem soluta,\n                                    magnam ratione quam non excepturi iusto quae est impedit officiis ipsa dolore\n                                    voluptates quia tempora, provident sequi dolorem aut porro. Voluptates assumenda\n                                    debitis dolor.\n                                </p>\n                            </AnimatedCopy>\n                        </div>\n                    </div>\n                    <div className=\"col\">\n                        <img src=\"/images/service.jpg\" alt=\"\" />\n                    </div>\n                </div>\n                <div className=\"service\">\n                    <div className=\"col\">\n                        <img src=\"/images/service.jpg\" alt=\"\" />\n                    </div>\n                    <div className=\"col\">\n                        <div className=\"service-copy\">\n                            <h3>Design</h3>\n\n                            <AnimatedCopy>\n                                <p>\n                                    Lorem ipsum dolor sit, amet consectetur adipisicing elit. Error dignissimos quos\n                                    soluta culpa repellendus. Sapiente quisquam veritatis molestiae ipsum autem soluta,\n                                    magnam ratione quam non excepturi iusto quae est impedit officiis ipsa dolore\n                                    voluptates quia tempora, provident sequi dolorem aut porro. Voluptates assumenda\n                                    debitis dolor.\n                                </p>\n                            </AnimatedCopy>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"service\">\n                    <div className=\"col\">\n                        <div className=\"service-copy\">\n                            <h3>Coding</h3>\n\n                            <AnimatedCopy>\n                                <p>\n                                    Lorem ipsum dolor sit, amet consectetur adipisicing elit. Error dignissimos quos\n                                    soluta culpa repellendus. Sapiente quisquam veritatis molestiae ipsum autem soluta,\n                                    magnam ratione quam non excepturi iusto quae est impedit officiis ipsa dolore\n                                    voluptates quia tempora, provident sequi dolorem aut porro. Voluptates assumenda\n                                    debitis dolor.\n                                </p>\n                            </AnimatedCopy>\n                        </div>\n                    </div>\n                    <div className=\"col\">\n                        <img src=\"/images/service.jpg\" alt=\"\" />\n                    </div>\n                </div>\n                <div className=\"service\">\n                    <div className=\"col\">\n                        <img src=\"/images/service.jpg\" alt=\"\" />\n                    </div>\n                    <div className=\"col\">\n                        <div className=\"service-copy\">\n                            <h3>Engineering</h3>\n\n                            <AnimatedCopy>\n                                <p>\n                                    Lorem ipsum dolor sit, amet consectetur adipisicing elit. Error dignissimos quos\n                                    soluta culpa repellendus. Sapiente quisquam veritatis molestiae ipsum autem soluta,\n                                    magnam ratione quam non excepturi iusto quae est impedit officiis ipsa dolore\n                                    voluptates quia tempora, provident sequi dolorem aut porro. Voluptates assumenda\n                                    debitis dolor.\n                                </p>\n                            </AnimatedCopy>\n                        </div>\n                    </div>\n                </div>\n            </section>\n\n            <section className=\"outro\">\n                <h3>Innovation has no finish line..</h3>\n            </section>\n        </>\n    );\n}\n"],"names":[],"mappings":";;;;;AACA;AAEA;;;;;;AAGA;AANA;;;;;;AAQe,SAAS;IACpB,MAAM,WAAW,IAAA,6GAAM,EAAC;IAExB,IAAA,gHAAS,EAAC;QACN,SAAS,OAAO,IAAI;YAChB,SAAS,OAAO,EAAE,OAAO,IAAI,OAAO;QACxC;QACA,iJAAI,CAAC,MAAM,CAAC,GAAG,CAAC;QAEhB,OAAO,IAAM,iJAAI,CAAC,MAAM,CAAC,MAAM,CAAC;IACpC,GAAG,EAAE;IAEL,qBACI;;0BACI,qKAAC;gBAAW,IAAI;gBAAC,KAAK;;;;;;0BAEtB,qKAAC;gBAAQ,WAAU;0BACf,cAAA,qKAAC;oBAAI,KAAI;oBAAmB,KAAI;;;;;;;;;;;0BAGpC,qKAAC;gBAAQ,WAAU;;kCACf,qKAAC;wBAAI,WAAU;kCACX,cAAA,qKAAC;sCAAG;;;;;;;;;;;kCAGR,qKAAC;wBAAI,WAAU;kCACX,cAAA,qKAAC,wIAAY;sCACT,cAAA,qKAAC;0CAAE;;;;;;;;;;;;;;;;;;;;;;0BAWf,qKAAC;gBAAQ,WAAU;0BACf,cAAA,qKAAC;oBAAI,KAAI;oBAAmB,KAAI;;;;;;;;;;;0BAGpC,qKAAC;gBAAQ,WAAU;;kCACf,qKAAC;wBAAI,WAAU;;0CACX,qKAAC;gCAAI,WAAU;0CACX,cAAA,qKAAC;oCAAI,WAAU;;sDACX,qKAAC;sDAAG;;;;;;sDAEJ,qKAAC,wIAAY;sDACT,cAAA,qKAAC;0DAAE;;;;;;;;;;;;;;;;;;;;;;0CAUf,qKAAC;gCAAI,WAAU;0CACX,cAAA,qKAAC;oCAAI,KAAI;oCAAsB,KAAI;;;;;;;;;;;;;;;;;kCAG3C,qKAAC;wBAAI,WAAU;;0CACX,qKAAC;gCAAI,WAAU;0CACX,cAAA,qKAAC;oCAAI,KAAI;oCAAsB,KAAI;;;;;;;;;;;0CAEvC,qKAAC;gCAAI,WAAU;0CACX,cAAA,qKAAC;oCAAI,WAAU;;sDACX,qKAAC;sDAAG;;;;;;sDAEJ,qKAAC,wIAAY;sDACT,cAAA,qKAAC;0DAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAWnB,qKAAC;wBAAI,WAAU;;0CACX,qKAAC;gCAAI,WAAU;0CACX,cAAA,qKAAC;oCAAI,WAAU;;sDACX,qKAAC;sDAAG;;;;;;sDAEJ,qKAAC,wIAAY;sDACT,cAAA,qKAAC;0DAAE;;;;;;;;;;;;;;;;;;;;;;0CAUf,qKAAC;gCAAI,WAAU;0CACX,cAAA,qKAAC;oCAAI,KAAI;oCAAsB,KAAI;;;;;;;;;;;;;;;;;kCAG3C,qKAAC;wBAAI,WAAU;;0CACX,qKAAC;gCAAI,WAAU;0CACX,cAAA,qKAAC;oCAAI,KAAI;oCAAsB,KAAI;;;;;;;;;;;0CAEvC,qKAAC;gCAAI,WAAU;0CACX,cAAA,qKAAC;oCAAI,WAAU;;sDACX,qKAAC;sDAAG;;;;;;sDAEJ,qKAAC,wIAAY;sDACT,cAAA,qKAAC;0DAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAavB,qKAAC;gBAAQ,WAAU;0BACf,cAAA,qKAAC;8BAAG;;;;;;;;;;;;;AAIpB"}}]
}